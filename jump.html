<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>微信服务器中转页面</title>
</head>
<body>
<script type="text/javascript">
function getHttp(){
    var url=location.search;
    if(!url)return {};
    url=url.split("?")[1].split("&");
    var arr=new Array();
    var n=url.length;
    for(var i=0;i<n;i++){
        arr[url[i].split("=")[0]]=url[i].split("=")[1];
    }
    return arr;
}
function decode(str){
	//解码
	for (items in code){
		var r=new RegExp(items,"g");
		str=str.replace(r,code[items])
	}
	return str;
}

var code={
	"000":":",
	"001":"/",
	"002":"_",
	"003":".",
	"004":"?",
	"005":"&",
	"006":"=",
	"007":"\\",
	"008":"+",
	"009":"-",
	"00a":"%",
	"00b":"#",
	"00c":"(",
	"00d":")",
	"00e":"{",
	"00f":"}",
	"00g":"[",
	"00h":"]",
	"00i":"|",
	"00j":";",
	"00k":">",
	"00l":"<",
	"00m":",",
	"00n":"!",
	"00o":"@",
	"00p":"$",
	"00q":"^",
	"00r":"*",
	"00s":"'",
	"00t":'"',
}
var get=getHttp();
var state=get.state;
var url=decode(state);
location.href=url+location.search;
</script>
</body>
</html>